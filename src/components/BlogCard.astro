---
import type { CollectionEntry } from "astro:content";

interface Props {
  post: CollectionEntry<"blog">;
}

const { post } = Astro.props;
const { title, description, pubDate, tags } = post.data;
---

<article
  class="py-12 border-b border-[var(--color-border)] last:border-b-0 hover:bg-bg-secondary transition-colors px-6 rounded-lg"
>
  <div class="max-w-prose mx-auto">
    <time class="text-sm text-text-light" datetime={pubDate.toISOString()}>
      {
        pubDate.toLocaleDateString("en-US", {
          year: "numeric",
          month: "long",
          day: "numeric",
        })
      }
    </time>

    <h3 class="text-h2 font-bold text-text-primary mt-2 mb-2">
      <a
        href={`/blog/${post.id}`}
        class="hover:text-accent transition-colors"
      >
        {title}
      </a>
    </h3>

    <p class="text-base text-text-secondary mb-4">
      {description}
    </p>

    {
      tags && tags.length > 0 && (
        <div class="flex gap-2 mb-4 flex-wrap">
          {tags.map((tag) => (
            <span class="text-xs text-accent uppercase font-semibold">
              #{tag}
            </span>
          ))}
        </div>
      )
    }

    <a
      href={`/blog/${post.id}`}
      class="text-accent hover:text-accent-dark font-semibold transition-colors"
    >
      Read More &rarr;
    </a>
  </div>
</article>
